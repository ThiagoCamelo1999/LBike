<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8"> <!-- Define o charset como UTF-8 para suportar caracteres especiais -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Define a visualiza칞칚o responsiva para dispositivos m칩veis -->
    <title>Loja - LBike</title> <!-- T칤tulo da p치gina da loja -->
    <link rel="stylesheet" href="styles.css"> <!-- Link para o arquivo de estilo CSS -->
</head>
<body>

    <!-- Cabe칞alho com logo e menu de navega칞칚o -->
    <header class="header">
        <div class="logo">
            <a href="index.html"><img src="./logo.png" alt="Logo LBike"></a> <!-- Logo da LBike com link para a p치gina inicial -->
        </div>
        <nav class="navbar">
            <ul>   
                <!-- Menu de navega칞칚o do usu치rio comum -->
                <ul id="menu-user">
                    <li><a href="index.html">In칤cio</a></li> <!-- Link para a p치gina inicial -->
                    <button id="logoutButton" class="logout-btn">Sair</button> <!-- Bot칚o de logout para o usu치rio -->
                </ul>
    
                <!-- Menu de navega칞칚o do administrador -->
                <ul id="menu-admin">
                    <li><a href="agendamentos.html">Agendamentos</a></li> <!-- Link para a p치gina de agendamentos -->
                    <li><a href="funcionarios.html">Funcion치rios</a></li> <!-- Link para a p치gina de funcion치rios -->
                    <li><a href="items.html">Estoque</a></li> <!-- Link para a p치gina de estoque -->
                    <button id="logoutButtonn" class="logout-btn">Sair</button> <!-- Bot칚o de logout para o administrador -->
                </ul>             
            </ul>
        </nav>
    </header>

    <!-- Conte칰do principal -->
    <main>
        <h2>Loja</h2> <!-- T칤tulo da se칞칚o -->
        <a href="carrinho.html">游 Ver Carrinho</a> <!-- Link para visualizar o carrinho de compras -->
        <div id="produtos"></div> <!-- Div onde os produtos ser칚o exibidos dinamicamente -->
    </main>

    <script src="loja.js"></script> <!-- Link para o script externo loja.js -->
    
    <script>
        // Verifica se o usu치rio est치 autenticado ao carregar a p치gina
        document.addEventListener("DOMContentLoaded", () => {
            const tipo_usuario = localStorage.getItem("tipo_usuario"); // Obt칠m o tipo de usu치rio do localStorage

            if (!tipo_usuario) {
                window.location.href = "login.html"; // 游댳 Redireciona para login se n칚o estiver autenticado
            }

            // 游댳 Se o usu치rio for cliente, esconde as op칞칫es do menu de administra칞칚o
            if (tipo_usuario === "cliente") {
                document.getElementById("menu-admin").style.display = "none"; // Esconde o menu de administrador
            }
            else {
                document.getElementById("menu-user").style.display = "none"; // Esconde o menu de usu치rio comum
            }
        });

        // Adiciona o evento de clique no bot칚o de logout para usu치rios comuns
        document.getElementById("logoutButton").addEventListener("click", () => {
            localStorage.clear(); // 游댳 Remove todos os dados do usu치rio do localStorage
            window.location.replace("login.html"); // 游댳 Usa replace() para evitar voltar para a p치gina anterior no hist칩rico
        });

        // Adiciona o evento de clique no bot칚o de logout para administradores
        document.getElementById("logoutButtonn").addEventListener("click", () => {
            localStorage.clear(); // 游댳 Remove todos os dados do usu치rio do localStorage
            window.location.replace("login.html"); // 游댳 Usa replace() para evitar voltar para a p치gina anterior no hist칩rico
        });
    </script>
        
</body>
</html>
