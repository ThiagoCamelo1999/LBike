<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8"> <!-- Define o charset como UTF-8 para suportar caracteres especiais -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Define a visualização responsiva para dispositivos móveis -->
    <title>Loja - LBike</title> <!-- Título da página da loja -->
    <link rel="stylesheet" href="styles.css"> <!-- Link para o arquivo de estilo CSS -->
</head>
<body>

    <!-- Cabeçalho com logo e menu de navegação -->
    <header class="header">
        <div class="logo">
            <a href="index.html"><img src="./logo.png" alt="Logo LBike"></a> <!-- Logo da LBike com link para a página inicial -->
        </div>
        <nav class="navbar">
            <ul>   
                <!-- Menu de navegação do usuário comum -->
                <ul id="menu-user">
                    <li><a href="index.html">Início</a></li> <!-- Link para a página inicial -->
                    <button id="logoutButton" class="logout-btn">Sair</button> <!-- Botão de logout para o usuário -->
                </ul>
    
                <!-- Menu de navegação do administrador -->
                <ul id="menu-admin">
                    <li><a href="agendamentos.html">Agendamentos</a></li> <!-- Link para a página de agendamentos -->
                    <li><a href="funcionarios.html">Funcionários</a></li> <!-- Link para a página de funcionários -->
                    <li><a href="items.html">Estoque</a></li> <!-- Link para a página de estoque -->
                    <button id="logoutButtonn" class="logout-btn">Sair</button> <!-- Botão de logout para o administrador -->
                </ul>             
            </ul>
        </nav>
    </header>

    <!-- Conteúdo principal -->
    <main>
        <h2>Loja</h2> <!-- Título da seção -->
        <a href="carrinho.html">🛒 Ver Carrinho</a> <!-- Link para visualizar o carrinho de compras -->
        <div id="produtos"></div> <!-- Div onde os produtos serão exibidos dinamicamente -->
    </main>

    <script src="loja.js"></script> <!-- Link para o script externo loja.js -->
    
    <script>
        // Verifica se o usuário está autenticado ao carregar a página
        document.addEventListener("DOMContentLoaded", () => {
            const tipo_usuario = localStorage.getItem("tipo_usuario"); // Obtém o tipo de usuário do localStorage

            if (!tipo_usuario) {
                window.location.href = "login.html"; // 🔹 Redireciona para login se não estiver autenticado
            }

            // 🔹 Se o usuário for cliente, esconde as opções do menu de administração
            if (tipo_usuario === "cliente") {
                document.getElementById("menu-admin").style.display = "none"; // Esconde o menu de administrador
            }
            else {
                document.getElementById("menu-user").style.display = "none"; // Esconde o menu de usuário comum
            }
        });

        // Adiciona o evento de clique no botão de logout para usuários comuns
        document.getElementById("logoutButton").addEventListener("click", () => {
            localStorage.clear(); // 🔹 Remove todos os dados do usuário do localStorage
            window.location.replace("login.html"); // 🔹 Usa replace() para evitar voltar para a página anterior no histórico
        });

        // Adiciona o evento de clique no botão de logout para administradores
        document.getElementById("logoutButtonn").addEventListener("click", () => {
            localStorage.clear(); // 🔹 Remove todos os dados do usuário do localStorage
            window.location.replace("login.html"); // 🔹 Usa replace() para evitar voltar para a página anterior no histórico
        });
    </script>
        
</body>
</html>
